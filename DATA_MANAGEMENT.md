# üîÑ –£–ü–†–ê–í–õ–ï–ù–ò–ï –î–ê–ù–ù–´–ú–ò –ú–ï–ñ–î–£ –°–†–ï–î–ê–ú–ò –†–ê–ó–†–ê–ë–û–¢–ö–ò –ò –ü–†–û–î–ê–ö–®–ù–ê

## üìã –û–ë–ó–û–†

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É —Å—Ä–µ–¥–∞–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ–¥–∞–∫—à–Ω–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –í–ì–¢–†–ö.

## üóÇÔ∏è –°–¢–†–£–ö–¢–£–†–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

1. **filials** - –§–∏–ª–∏–∞–ª—ã –í–ì–¢–†–ö
   - `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
   - `name` - –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª–∏–∞–ª–∞
   - `region` - –†–µ–≥–∏–æ–Ω
   - `city` - –ì–æ—Ä–æ–¥
   - `website` - URL —Å–∞–π—Ç–∞ —Ñ–∏–ª–∏–∞–ª–∞
   - `federal_district` - –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥
   - `all_sites` - –í—Å–µ —Å–∞–π—Ç—ã —Ñ–∏–ª–∏–∞–ª–∞
   - `sitemap_url` - URL sitemap.xml
   - `is_active` - –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ —Ñ–∏–ª–∏–∞–ª

2. **search_queries** - –ü–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
   - `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
   - `query_text` - –¢–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞
   - `category` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–∞
   - `description` - –û–ø–∏—Å–∞–Ω–∏–µ
   - `priority` - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1-10)
   - `is_active` - –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –∑–∞–ø—Ä–æ—Å

3. **monitoring_sessions** - –°–µ—Å—Å–∏–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
   - `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
   - `session_name` - –ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏
   - `search_mode` - –†–µ–∂–∏–º –ø–æ–∏—Å–∫–∞
   - `search_period` - –ü–µ—Ä–∏–æ–¥ –ø–æ–∏—Å–∫–∞
   - `filials_count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∏–ª–∏–∞–ª–æ–≤
   - `status` - –°—Ç–∞—Ç—É—Å —Å–µ—Å—Å–∏–∏

4. **monitoring_results** - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
   - `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
   - `filial_id` - ID —Ñ–∏–ª–∏–∞–ª–∞
   - `search_query_id` - ID –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
   - `url` - URL –Ω–∞–π–¥–µ–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–∏
   - `page_title` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - `content` - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ
   - `relevance_score` - –û—Ü–µ–Ω–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
   - `status` - –°—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏

## üöÄ –ü–†–û–¶–ï–î–£–†–´ –£–ü–†–ê–í–õ–ï–ù–ò–Ø –î–ê–ù–ù–´–ú–ò

### 1. –≠–ö–°–ü–û–†–¢ –î–ê–ù–ù–´–•

#### –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```bash
python export_import_data.py export data/vgtrk_monitoring.db data/export.json
```

#### –≠–∫—Å–ø–æ—Ä—Ç —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
```bash
python export_import_data.py export data/vgtrk_monitoring.db /path/to/export/directory/export.json
```

### 2. –ò–ú–ü–û–†–¢ –î–ê–ù–ù–´–•

#### –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑—É:
```bash
python export_import_data.py import data/vgtrk_monitoring.db data/export.json
```

#### –ò–º–ø–æ—Ä—Ç —Å –æ—á–∏—Å—Ç–∫–æ–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö:
```bash
python export_import_data.py import data/vgtrk_monitoring.db data/export.json --clear-existing
```

### 3. –ü–†–û–°–ú–û–¢–† –ò–ù–§–û–†–ú–ê–¶–ò–ò –û –ë–ê–ó–ï

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
```bash
python export_import_data.py info data/vgtrk_monitoring.db
```

## üì¶ –†–ï–ó–ï–†–í–ù–û–ï –ö–û–ü–ò–†–û–í–ê–ù–ò–ï

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏:
```bash
python backup_database.py create data/vgtrk_monitoring.db
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π:
```bash
python backup_database.py list
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏:
```bash
python backup_database.py restore data/backups/vgtrk_monitoring_backup_20230101_120000.db data/vgtrk_monitoring.db
```

### –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π:
```bash
python backup_database.py cleanup data/backups 30
```

## üîÑ –°–¶–ï–ù–ê–†–ò–ò –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø

### 1. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

1. **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
   ```bash
   python export_import_data.py export data/vgtrk_monitoring.db dev_export.json
   ```

2. **–ü–µ—Ä–µ–Ω–æ—Å —Ñ–∞–π–ª–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   scp dev_export.json user@production-server:/path/to/project/data/
   ```

3. **–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–µ:**
   ```bash
   python export_import_data.py import data/vgtrk_monitoring.db data/dev_export.json
   ```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∫—à–Ω–∞ –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –ø—Ä–æ–¥–∞–∫—à–Ω–∞:**
   ```bash
   python backup_database.py create data/vgtrk_monitoring.db
   ```

2. **–≠–∫—Å–ø–æ—Ä—Ç –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
   ```bash
   python export_import_data.py export data/vgtrk_monitoring.db new_data.json
   ```

3. **–ü–µ—Ä–µ–Ω–æ—Å –∏ –∏–º–ø–æ—Ä—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω:**
   ```bash
   scp new_data.json user@production-server:/path/to/project/data/
   ssh user@production-server "cd /path/to/project && python export_import_data.py import data/vgtrk_monitoring.db data/new_data.json"
   ```

### 3. –ü–µ—Ä–µ–Ω–æ—Å –¥–∞–Ω–Ω—ã—Ö —Å –ø—Ä–æ–¥–∞–∫—à–Ω–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É

1. **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö —Å –ø—Ä–æ–¥–∞–∫—à–Ω–∞:**
   ```bash
   ssh user@production-server "cd /path/to/project && python export_import_data.py export data/vgtrk_monitoring.db prod_data.json"
   ```

2. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É:**
   ```bash
   scp user@production-server:/path/to/project/data/prod_data.json ./
   ```

3. **–ò–º–ø–æ—Ä—Ç –≤ —Å—Ä–µ–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
   ```bash
   python export_import_data.py import data/vgtrk_monitoring.db prod_data.json
   ```

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

### 1. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö —Å–æ–≤–º–µ—Å—Ç–∏–º—ã –ø–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º
- –ù–æ–≤—ã–µ –ø–æ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ

### 2. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ø–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º –¥–∞–Ω–Ω—ã—Ö
- –•—Ä–∞–Ω–∏—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ

### 3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–∞—Ö —ç–∫—Å–ø–æ—Ä—Ç–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö

### 4. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ
- –†–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

## üõ†Ô∏è –£–°–¢–†–ê–ù–ï–ù–ò–ï –ù–ï–ò–°–ü–†–ê–í–ù–û–°–¢–ï–ô

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∏–º–ø–æ—Ä—Ç–æ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª —ç–∫—Å–ø–æ—Ä—Ç–∞ –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–∑–µ—Ä–≤–Ω—ã–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–æ–≤ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:
```bash
python export_import_data.py info data/vgtrk_monitoring.db
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏:
```bash
python backup_database.py create data/vgtrk_monitoring.db /tmp/test_backup.db
python backup_database.py restore /tmp/test_backup.db /tmp/restored.db
```

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã
2. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
3. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —Å–∏—Å—Ç–µ–º—ã