# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø—É—Å–∫—É Streamlit –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd parsing_vesti42
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –≤–µ—Ä—Å–∏–∏):**
```bash
python run_streamlit.py
```

**–ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏:**
```bash
# –í–µ—Ä—Å–∏—è —Å SQLite (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
streamlit run app_sqlite.py

# –í–µ—Ä—Å–∏—è —Å Google Sheets
streamlit run app.py
```

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ `use_container_width`

**–°–∏–º–ø—Ç–æ–º:**
```
Please replace `use_container_width` with `width`.
`use_container_width` will be removed after 2025-12-31.
```

**–†–µ—à–µ–Ω–∏–µ:**
–ö–æ–¥ —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞:
- `use_container_width=True` –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ `use_container_width='stretch'`
- `use_container_width=False` –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ `use_container_width='content'`

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL –ø—Ä–∏ sitemap –ø–æ–∏—Å–∫–µ

**–°–∏–º–ø—Ç–æ–º:**
–í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –ø—Ä–æ–≥—Ä–∞–º–º –≤–º–µ—Å—Ç–æ –Ω–æ–≤–æ—Å—Ç–µ–π:
```
/programms/radio/vesti-radio/
/programms/tv/pryamoj-razgovor/
```

**–†–µ—à–µ–Ω–∏–µ:**
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π sitemap URL:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python add_sitemap_url_field.py` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–ª—è —Ñ–∏–ª–∏–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π sitemap (–Ω–∞–ø—Ä–∏–º–µ—Ä, `sitemap2025.xml`)

### –ü—Ä–æ–±–ª–µ–º–∞: Sitemap –Ω–µ –Ω–∞–π–¥–µ–Ω

**–°–∏–º–ø—Ç–æ–º:**
```
‚ö†Ô∏è –ì–¢–†–ö "–°–∞—Ö–∞": Sitemap –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –ø—É—Å—Ç–æ–π
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å sitemap URL –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏: `python test_direct_sitemap.py`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ sitemap –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ

## –†–µ–∂–∏–º—ã –ø–æ–∏—Å–∫–∞

### 1. –ú–µ—Ç–∞-–ø–æ–∏—Å–∫ (–±—ã—Å—Ç—Ä—ã–π)
- **‚ö° –¢–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** - —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π, —ç–∫–æ–Ω–æ–º–∏—Ç 90% —Ç–æ–∫–µ–Ω–æ–≤
- **üì∞ –ì–ª–∞–≤–Ω–∞—è + –ù–æ–≤–æ—Å—Ç–∏** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫, —ç–∫–æ–Ω–æ–º–∏—Ç 80% —Ç–æ–∫–µ–Ω–æ–≤

### 2. RSS –ø–æ–∏—Å–∫ (–Ω–æ–≤–∏–Ω–∫–∞)
- **üì° RSS –ª–µ–Ω—Ç–∞** - —Å—É–ø–µ—Ä-–±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ –ø–æ —Å–≤–µ–∂–∏–º –Ω–æ–≤–æ—Å—Ç—è–º

### 3. Sitemap –ø–æ–∏—Å–∫ (–≥–ª—É–±–æ–∫–∏–π)
- **üï∑Ô∏è Sitemap –∞—Ä—Ö–∏–≤** - –ø–æ–ª–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º—É –∞—Ä—Ö–∏–≤—É —Å–∞–π—Ç–∞
- –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø–µ—Ä–∏–æ–¥: –æ—Ç 1 –¥–Ω—è –¥–æ 3 –º–µ—Å—è—Ü–µ–≤
- –û–ø—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GigaChat –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä—è–º—ã—Ö Sitemap URL

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä—è–º—ã–µ sitemap URL –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∏–ª–∏–∞–ª–∞:

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
   - –ï—Å–ª–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É–∫–∞–∑–∞–Ω `sitemap_url`, –æ–Ω –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å sitemap_index.xml

2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ sitemap URL:**
   ```sql
   UPDATE filials 
   SET sitemap_url = 'https://site.ru/sitemap2025.xml'
   WHERE id = ?;
   ```

3. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
   - –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –Ω—É–∂–Ω–æ–º—É sitemap
   - –ò–∑–±–µ–≥–∞–µ–º –ø–∞—Ä—Å–∏–Ω–≥–∞ sitemap_index.xml
   - –ë—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å sitemap –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≥–æ–¥–∞

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **–î–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–∞-–ø–æ–∏—Å–∫ –∏–ª–∏ RSS –ø–æ–∏—Å–∫
   - –≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ 95%

2. **–î–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Sitemap –ø–æ–∏—Å–∫
   - –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –ø–µ—Ä–∏–æ–¥ –ø–æ–∏—Å–∫–∞
   - –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ GigaChat –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –æ—á–∏—â–∞–π—Ç–µ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ (–≤–∫–ª–∞–¥–∫–∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∏)
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –æ–∫—Ä—É–≥–∞–º –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ sitemap URL –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∏–ª–∏–∞–ª–∞